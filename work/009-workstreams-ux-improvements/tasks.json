{
  "version": "1.0.0",
  "stream_id": "009-workstreams-ux-improvements",
  "last_updated": "2026-01-23T21:00:01.347Z",
  "tasks": [
    {
      "id": "01.01.01.01",
      "name": "Create NotificationProvider interface with event types (thread_complete, batch_complete, error) and playNotification method",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Notification System",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.01.02",
      "name": "Implement MacOSSoundProvider using afplay with default system sounds from /System/Library/Sounds/",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Notification System",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.01.03",
      "name": "Add configuration loading from ~/.config/agenv/notifications.json for custom sound mappings",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Notification System",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.01.04",
      "name": "Create ExternalApiProvider stub interface for future webhook/API integrations",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Notification System",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.01.05",
      "name": "Write unit tests for notifications.ts with mocked audio playback",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Notification System",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.02.01",
      "name": "Define ThreadMetadata interface and ThreadsJson schema in types.ts",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Thread Metadata Store",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.02.02",
      "name": "Create ThreadsStore class with CRUD operations (loadThreads, saveThreads, getThreadMetadata, updateThreadMetadata)",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Thread Metadata Store",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.02.03",
      "name": "Implement file locking using proper-lockfile for concurrent access safety",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Thread Metadata Store",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.02.04",
      "name": "Create migrateFromTasksJson utility to move sessions and github issues from tasks.json to threads.json",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Thread Metadata Store",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "01.01.02.05",
      "name": "Write unit tests for threads.ts including CRUD, migration, and concurrent access tests",
      "stage_name": "Core Infrastructure",
      "batch_name": "Foundation",
      "thread_name": "Thread Metadata Store",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.01.01",
      "name": "Update startTaskSession and startTaskSessionLocked to write to threads.json via ThreadsStore",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Tasks.ts Refactor",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.01.02",
      "name": "Update completeTaskSession and completeTaskSessionLocked to write to threads.json",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Tasks.ts Refactor",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.01.03",
      "name": "Update getCurrentTaskSession and getTaskSessions to read from threads.json",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Tasks.ts Refactor",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.01.04",
      "name": "Add auto-migration check on load: if sessions exist in tasks.json, migrate them with backup",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Tasks.ts Refactor",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.01.05",
      "name": "Mark session fields in Task interface as deprecated, update session-tracking.test.ts",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Tasks.ts Refactor",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.02.01",
      "name": "Import notification service in multi.ts and add --silent flag to disable sounds",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Notification Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.02.02",
      "name": "Detect thread completion in status polling loop and call playNotification('thread_complete')",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Notification Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.02.03",
      "name": "Call playNotification('batch_complete') when all threads in batch complete",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Notification Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.02.04",
      "name": "Call playNotification('error') on thread failure detection",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Notification Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "02.01.02.05",
      "name": "Add notification integration tests to multi.test.ts with mocked playback",
      "stage_name": "Integration",
      "batch_name": "System Integration",
      "thread_name": "Notification Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.01.01.01",
      "name": "Debug createGridLayout in tmux.ts - trace split sequence and identify why layout is 1+3 instead of 2x2",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Grid Layout Fix",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.01.01.02",
      "name": "Fix split percentages and target pane selection to produce correct 2x2 grid",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Grid Layout Fix",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.01.01.03",
      "name": "Test grid with 1, 2, 3, 4 pane configurations to ensure all work correctly",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Grid Layout Fix",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.01.01.04",
      "name": "Add tmux-grid.test.ts with layout verification tests",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Grid Layout Fix",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.346Z",
      "updated_at": "2026-01-23T21:00:01.346Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.01.02.01",
      "name": "Create scripts/preview-multi.ts that runs mock prompts with claude-3-5-haiku-latest and configurable thread count",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Test Scripts",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "default",
      "sessions": []
    },
    {
      "id": "03.01.02.02",
      "name": "Create scripts/preview-grid.ts as standalone 2x2 grid tester with simple commands",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Test Scripts",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "default",
      "sessions": []
    },
    {
      "id": "03.01.02.03",
      "name": "Create scripts/preview-fix.ts to test fix command retry flow with mock failed thread",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Test Scripts",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "default",
      "sessions": []
    },
    {
      "id": "03.01.02.04",
      "name": "Add scripts/README.md with instructions for running preview scripts",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Test Scripts",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "default",
      "sessions": []
    },
    {
      "id": "03.01.03.01",
      "name": "Add tests for createSession and addWindow in tmux.test.ts",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Unit Tests",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "03.01.03.02",
      "name": "Add tests for splitWindow and createGridLayout operations",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Unit Tests",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "03.01.03.03",
      "name": "Add tests for getSessionPaneStatuses and waitForAllPanesExit",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Unit Tests",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "03.01.03.04",
      "name": "Add tests for respawnPane and ensure cleanup in test teardown",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Unit Tests",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "03.01.03.05",
      "name": "Verify 80%+ coverage of tmux.ts functions",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Tmux Improvements",
      "thread_name": "Tmux Unit Tests",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "03.02.01.01",
      "name": "Refactor fix --retry to create a new tmux session (work-fix-{threadId}) instead of running opencode directly",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.02.01.02",
      "name": "Run opencode command within the tmux session and attach user to it",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.02.01.03",
      "name": "Handle detach (Ctrl-B D) to let process continue in background with reattach instructions",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.02.01.04",
      "name": "Update --resume to work within tmux if a fix session exists",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.02.01.05",
      "name": "Add --no-tmux flag to preserve old foreground behavior",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "03.02.01.06",
      "name": "Add fix command tmux integration tests to fix.test.ts",
      "stage_name": "Tmux & Fix Command",
      "batch_name": "Fix Command Enhancement",
      "thread_name": "Fix Command Tmux Integration",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "systems-engineer",
      "sessions": []
    },
    {
      "id": "04.01.01.01",
      "name": "Create notification system configuration guide in docs/",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Documentation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "documentation-minimalist",
      "sessions": []
    },
    {
      "id": "04.01.01.02",
      "name": "Document threads.json schema and migration guide",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Documentation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "documentation-minimalist",
      "sessions": []
    },
    {
      "id": "04.01.01.03",
      "name": "Document fix command tmux integration and new flags",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Documentation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "documentation-minimalist",
      "sessions": []
    },
    {
      "id": "04.01.01.04",
      "name": "Create ~/.config/agenv/notifications.json.example with custom sounds and webhook examples",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Documentation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "documentation-minimalist",
      "sessions": []
    },
    {
      "id": "04.01.01.05",
      "name": "Update CLI help text for --silent and --no-tmux flags",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Documentation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "documentation-minimalist",
      "sessions": []
    },
    {
      "id": "04.01.02.01",
      "name": "Add console warning when reading sessions from deprecated tasks.json location",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Cleanup & Deprecation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "04.01.02.02",
      "name": "Add @deprecated JSDoc annotations to old session fields in Task interface",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Cleanup & Deprecation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "04.01.02.03",
      "name": "Clean up any temporary migration code paths",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Cleanup & Deprecation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    },
    {
      "id": "04.01.02.04",
      "name": "Run full test suite (bun run test) and typecheck (bun run typecheck) to verify no regressions",
      "stage_name": "Documentation & Polish",
      "batch_name": "Finalization",
      "thread_name": "Cleanup & Deprecation",
      "status": "pending",
      "created_at": "2026-01-23T21:00:01.347Z",
      "updated_at": "2026-01-23T21:00:01.347Z",
      "assigned_agent": "code-reviewer",
      "sessions": []
    }
  ]
}